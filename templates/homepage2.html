<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href={{ url_for('static', path='styles/sheet_homepage2.css') }}>
    <title>Accueil ‚Ä¢ I-Leaf</title>
  <link rel = "icon" type = "image/x-icon" href ={{ url_for('static', path='images/logo_i_leaf_without_name.svg') }}>
</head>
<body>
    <div class="split-screen">
        <div class="text-area">
            <div>
                <img src={{ url_for('static', path='images/logo_i_leaf_with_name.png') }}>
            </div>
            <div>
                <h1>Bienvenue sur le site de I-Leaf !</h1>
            </div>
        </div>
        <div class="separator"></div>
        <div class="circle-container">
            <div class="circle" id="home">
                <span class="icon">üè†</span>
                <div class="text">Logements</div>
            </div>
            <div class="circle" id="weather">
                <span class="icon">‚õÖ</span>
                <div class="text">Pr√©visions m√©t√©o</div>
            </div>
            <div class="circle" id="documents">
                <span class="icon">üìÑ</span>
                <div class="text">Documents / Factures</div>
            </div>
        </div>
    </div>

    <!-- <script src={{ url_for('static', path='scripts/script_homepage2.js') }}></script> -->
    <script>
        // S√©lection des √©l√©ments du DOM
        const circles = document.querySelectorAll('.circle');
        const circleContainer = document.querySelector('.circle-container');
        // Cr√©er un menu d√©roulant et un bouton d‚Äôenvoi
        const dropdownMenu = document.createElement('select');
        dropdownMenu.id = 'dropdown-menu';
        dropdownMenu.innerHTML = `
            <option value="">-- Choisissez une option --</option>
            {% for logement in housing %}
                <option value="{{ logement['id']}}">{{ logement['id'] }}) {{ logement['nom'] }}</option>
            {% endfor %}
        `;
        const submitButton = document.createElement('button');
        submitButton.id = 'submit-button';
        submitButton.textContent = 'Envoyer';
        submitButton.disabled = true; // D√©sactiv√© jusqu'√† ce qu'une option soit choisie
        // Fonction pour cacher les cercles sauf celui cliqu√©
        function hideOtherCircles(clickedCircle) {
            circles.forEach(circle => {
                if (circle !== clickedCircle) {
                    circle.style.display = 'none';
                }
            });
        }
        // Activer ou d√©sactiver le bouton selon la s√©lection
        dropdownMenu.addEventListener('change', () => {
            submitButton.disabled = dropdownMenu.value === '';
        });
        // Ajouter un √©v√©nement de clic pour chaque cercle
        circles.forEach(circle => {
            circle.addEventListener('click', function () {
                hideOtherCircles(this); // Cacher les autres cercles
                // this.style.display = 'none'; // Laisser le cercle cliqu√© affich√©
                // Afficher le menu d√©roulant et le bouton
                circleContainer.appendChild(dropdownMenu);
                circleContainer.appendChild(submitButton);
            });
        });
        // Ajouter un √©v√©nement au bouton pour la redirection
        submitButton.addEventListener('click', () => {
            if (dropdownMenu.value !== '') {
                window.location.href = `/logements/${dropdownMenu.value}/meteo/`;
            }
        });
    </script>
</body>
</html>
